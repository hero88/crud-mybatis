<!DOCTYPE html>
<html>

<head>
    <title>CoinMarketCap</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        /* CSS cho container của phân trang */
        #pagination-container {
            margin-top: 20px;
            text-align: center;
        }

        /* CSS cho các nút phân trang */
        .page-link {
            display: inline-block;
            margin-right: 5px;
            padding: 8px 16px;
            background-color: #4CAF50;
            /* Màu xanh lá cây */
            border: 1px solid #4CAF50;
            border-radius: 5px;
            text-decoration: none;
            color: #fff;
            /* Màu chữ trắng */
            cursor: pointer;
            transition: background-color 0.3s;
            /* Hiệu ứng chuyển màu */
        }

        /* CSS cho nút phân trang hiện tại */
        .page-link.active {
            background-color: #45a049;
            /* Màu xanh lá cây đậm */
        }

        /* CSS cho hover của nút phân trang */
        .page-link:hover {
            background-color: #45a049;
            /* Màu xanh lá cây đậm khi hover */
        }


        .hsdhf h1 {
            margin: 0;
        }

        .hsdhf nav {
            display: flex;
            align-items: center;
        }

        .hsdhf nav a {
            color: #1c1c1c;
            margin-left: 20px;
            text-decoration: none;
            font-family: Inter, -apple-system, BlinkMacSystemFont, segoe ui, Roboto, Helvetica, Arial, sans-serif;
            ;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        tr:hover {
            background-color: #ddd;
        }

        .hDjzmZ {
            font-size: var(--c-font-size-100);
            font-weight: var(--c-font-weight-600);
            cursor: pointer;
        }

        .jyVQAz {
            height: 16px;
            width: 1px;
            margin: 0px 16px;
            background: rgb(207, 214, 228);
            flex-shrink: 0;
        }
    </style>
</head>

<body style="background-color: #fff;">
    <!-- <div class="container-xxl"> -->
    <!-- <div class="row hsdhf"> -->
    <!-- <div class="container-fluid" id="loginContainer" style="display: none;">
		<div class="row justify-content-end pt-2">
			<div class="col-auto">
				<a class="btn btn-primary" href="../../html/page/SignInSignUp.html">Login</a>
			</div>
		</div>
	</div> -->

    <nav class="navbar navbar-expand-xxl pb-5">
        <div class="container-fluid">
            <svg width="168" height="29" fill="var(--text-color)" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 168 29" class="cmc-logo-img" style="margin-top:-3px">
                <path
                    d="M28.442 14.445v-.056C28.414 6.466 22.032 0 14.221 0S0 6.466 0 14.445c0 7.98 6.381 14.433 14.221 14.433a13.978 13.978 0 0 0 9.66-3.866 1.309 1.309 0 0 0-1.766-1.933l-.028.028a11.5 11.5 0 0 1-16.572-.755l6.075-9.742v4.508c0 2.154.84 2.855 1.546 3.051.706.196 1.765.054 2.912-1.765l3.333-5.412c.089-.158.192-.308.306-.449v2.745c0 2.015.812 3.639 2.211 4.422a4.071 4.071 0 0 0 4.173-.167c1.616-1.049 2.484-2.886 2.371-5.098Zm-3.696 2.835a1.529 1.529 0 0 1-1.546.111c-.56-.335-.897-1.09-.897-2.126v-3.173c0-1.51-.588-2.603-1.595-2.881-1.709-.516-2.995 1.595-3.472 2.379l-3.015 4.842V10.47c-.028-1.371-.477-2.183-1.317-2.436-.56-.167-1.4-.082-2.211 1.15L3.946 19.989a11.971 11.971 0 0 1-1.371-5.544c0-6.523 5.234-11.814 11.646-11.814 6.412 0 11.646 5.291 11.646 11.814v.057c.067 1.258-.337 2.268-1.12 2.77v.008ZM48.263 9.518a1.407 1.407 0 0 1 .645 1.092 1.24 1.24 0 0 1-1.204 1.232 2.062 2.062 0 0 1-.449-.085 4.61 4.61 0 0 0-2.716-.922c-2.379 0-4.002 1.93-4.002 4.337s1.652 4.312 4.002 4.312a4.34 4.34 0 0 0 3.023-1.232c.206-.145.45-.223.701-.224a1.134 1.134 0 0 1 .99 1.709c-.097.17-.235.315-.402.42a6.647 6.647 0 1 1-4.283-11.758c1.318-.02 2.61.37 3.695 1.119ZM54.925 12.309a4.745 4.745 0 0 0-4.765 4.71 4.82 4.82 0 0 0 4.76 4.79c2.464 0 4.564-2.212 4.564-4.79 0-2.576-2.067-4.71-4.559-4.71Zm-.028 7.167c-1.175 0-2.155-1.064-2.155-2.436 0-1.427.98-2.296 2.155-2.296 1.093 0 2.015.897 2.015 2.296 0 1.4-.922 2.444-2.015 2.444v-.008ZM61.056 20.352v-6.608a1.29 1.29 0 0 1 1.289-1.314 1.306 1.306 0 0 1 1.289 1.314v6.608a1.306 1.306 0 0 1-1.289 1.315 1.328 1.328 0 0 1-1.289-1.315ZM60.86 9.938a1.505 1.505 0 0 1 1.485-1.547 1.528 1.528 0 0 1 1.51 1.547 1.497 1.497 0 0 1-2.994 0ZM68.559 16.77v3.582a1.289 1.289 0 1 1-2.578 0v-6.915a.994.994 0 1 1 1.988 0 3.738 3.738 0 0 1 2.835-1.12c2.577 0 3.724 1.932 3.724 4.144v3.891a1.289 1.289 0 1 1-2.578 0V16.77c0-1.121-.139-2.062-1.763-2.062-1.146 0-1.623.951-1.623 2.062h-.005ZM82.865 18.141a.835.835 0 0 1-.673-.338l-2.995-3.247v5.796a1.289 1.289 0 1 1-2.577 0V8.873a.546.546 0 0 1 .477-.335.9.9 0 0 1 .56.335l4.788 5.376a.624.624 0 0 0 .42.258.701.701 0 0 0 .42-.258l4.786-5.376a.843.843 0 0 1 .559-.335.49.49 0 0 1 .477.335v11.48a1.29 1.29 0 0 1-1.289 1.314 1.307 1.307 0 0 1-1.288-1.315v-5.796l-2.998 3.247a1.031 1.031 0 0 1-.67.338h.003ZM107.08 14.698h-.281c-1.623.082-1.93 1.008-1.93 2.062v3.582a1.29 1.29 0 0 1-1.289 1.289 1.29 1.29 0 0 1-1.288-1.29v-6.903a.997.997 0 0 1 .995-.995.996.996 0 0 1 .994.995c.951-.897 1.735-1.093 2.518-1.122h.258a1.207 1.207 0 0 1 1.175 1.204 1.18 1.18 0 0 1-1.147 1.178h-.005ZM117.018 19.736c.118.185.186.397.196.616a1.346 1.346 0 0 1-1.289 1.289c-.446 0-.84-.338-1.147-.73l-2.966-3.448v2.86a1.288 1.288 0 0 1-2.577 0V9.828a1.287 1.287 0 0 1 2.199-.911c.242.241.378.57.378.91v6.55l2.966-3.274c.307-.337.673-.7 1.119-.7a1.289 1.289 0 0 1 1.232 1.26 1.09 1.09 0 0 1-.168.587l-2.35 2.577 2.407 2.913v-.003ZM132.584 21.78h-.701c-1.959 0-3.108-.869-3.108-3.92v-3.162h-.67a1.19 1.19 0 1 1 0-2.382h.66V9.881a1.282 1.282 0 0 1 .789-1.214c.158-.066.328-.1.499-.1a1.311 1.311 0 0 1 1.289 1.314v2.428h1.062a1.185 1.185 0 0 1 1.149 1.203 1.222 1.222 0 0 1-1.149 1.178h-1.062v2.66c0 1.763.082 2.126.866 2.126h.366a1.152 1.152 0 0 1 1.147 1.15 1.174 1.174 0 0 1-1.147 1.147l.01.007ZM145.04 9.518a1.41 1.41 0 0 1 .644 1.092 1.239 1.239 0 0 1-1.204 1.232 2.135 2.135 0 0 1-.448-.085 4.597 4.597 0 0 0-2.714-.922c-2.381 0-4.005 1.93-4.005 4.337s1.652 4.312 4.005 4.312a4.34 4.34 0 0 0 3.023-1.232c.205-.144.449-.222.699-.224a1.143 1.143 0 0 1 .816.332 1.134 1.134 0 0 1 .176 1.378 1.184 1.184 0 0 1-.405.418 6.639 6.639 0 0 1-5.978 1.3 6.642 6.642 0 0 1-4.853-7.268 6.642 6.642 0 0 1 6.548-5.789 6.27 6.27 0 0 1 3.696 1.119ZM98.99 12.402a.982.982 0 0 0-.982 1.007l-.054.31a4.026 4.026 0 0 0-2.997-1.428c-2.518 0-4.337 2.126-4.337 4.7 0 2.575 1.79 4.789 4.198 4.789 1.008 0 2.603-.449 3.108-1.428l.057.307a.964.964 0 0 0 1.007.982 1.006 1.006 0 0 0 1.008-1.008v-7.216a1.03 1.03 0 0 0-1.008-1.015Zm-3.752 7.082c-1.147 0-2.044-1.09-2.044-2.436 0-1.345.923-2.32 2.044-2.32 1.12 0 2.129.923 2.129 2.32 0 1.397-.982 2.436-2.13 2.436ZM126.425 16.824c-.057-2.884-1.933-4.508-4.423-4.508-3.092 0-4.397 2.24-4.397 4.817 0 3.276 2.158 4.675 4.761 4.675.979 0 2.015-.141 2.798-.729a1.135 1.135 0 0 0 .56-.923 1.057 1.057 0 0 0-1.031-1.064c-.237.002-.469.07-.67.196a4.173 4.173 0 0 1-1.681.335c-.644 0-2.128-.258-2.128-1.791h5.2a1.031 1.031 0 0 0 1.011-1.008Zm-6.217-.65c0-1.09 1.15-1.453 1.848-1.453.699 0 1.848.363 1.876 1.453h-3.724ZM155.31 12.402a.984.984 0 0 0-.703.296.976.976 0 0 0-.277.711l-.056.31a4.02 4.02 0 0 0-2.995-1.428c-2.52 0-4.34 2.126-4.34 4.7 0 2.575 1.804 4.789 4.198 4.789 1.008 0 2.606-.449 3.108-1.428l.057.307a.974.974 0 0 0 .292.708.965.965 0 0 0 .716.274 1.01 1.01 0 0 0 .932-.622c.05-.122.076-.253.076-.386v-7.216a1.032 1.032 0 0 0-1.008-1.015Zm-3.753 7.082c-1.118 0-2.043-1.09-2.043-2.436 0-1.345.897-2.32 2.043-2.32 1.147 0 2.129.923 2.129 2.32 0 1.397-.974 2.436-2.123 2.436h-.006ZM163.657 12.309a4.14 4.14 0 0 0-3.023 1.232c0-.642-.42-1.119-.979-1.119a1.007 1.007 0 0 0-1.01 1.008v10.863a1.291 1.291 0 0 0 1.288 1.288 1.29 1.29 0 0 0 1.289-1.288v-3.268c.698.53 1.819.755 2.577.773 2.436 0 4.201-2.211 4.201-4.788 0-2.578-1.85-4.701-4.343-4.701Zm-.309 7.167c-1.147 0-2.126-1.03-2.126-2.435s.979-2.32 2.126-2.32c1.147 0 2.044.923 2.044 2.32 0 1.352-.894 2.443-2.044 2.443v-.008Z">
                </path>
            </svg>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-xxl-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page"
                            href="../../html/page/home.html">Cryptocurrencies</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../html/page/dashboard.html">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../html/page/coin_management.html">User coin</a>
                    </li>
                </ul>
                <div class="dropdown">
                    <div class="row p-2" style="display: none;" id="buttonLogin">
                        <a class="btn btn-primary" href="../../html/page/SignInSignUp.html">Login</a>
                    </div>
                    <div class="row" style="display: none;" id="menu">
                        <a class="align-items-center link-dark text-decoration-none" href="#" id="dropdownUser1"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="../../img/user.png" alt="Profile Picture" width="32" height="32"
                                class="rounded-circle me-2">
                            <span id="name"></span>
                        </a>

                        <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
                            <li><a class="dropdown-item" href="../../html/user/user-profile.html"><svg
                                        xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-person-circle" viewBox="0 0 16 16">
                                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                                        <path fill-rule="evenodd"
                                            d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
                                    </svg> Profile</a></li>
                            <li><a class="dropdown-item" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                        height="16" fill="currentColor" class="bi bi-shield-lock" viewBox="0 0 16 16">
                                        <path
                                            d="M5.338 1.59a61 61 0 0 0-2.837.856.48.48 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.7 10.7 0 0 0 2.287 2.233c.346.244.652.42.893.533q.18.085.293.118a1 1 0 0 0 .101.025 1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56" />
                                        <path
                                            d="M9.5 6.5a1.5 1.5 0 0 1-1 1.415l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99a1.5 1.5 0 1 1 2-1.415" />
                                    </svg> Change Password</a></li>
                            <li><button class="dropdown-item" id="logoutButton"><svg xmlns="http://www.w3.org/2000/svg"
                                        width="16" height="16" fill="currentColor" class="bi bi-box-arrow-right"
                                        viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z" />
                                        <path fill-rule="evenodd"
                                            d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z" />
                                    </svg> Logout</button></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- </div> -->
    <!-- </div> -->
    <div class="container-xxl" style="background-color: #fff;">



        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">
                            Manage Employees</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <input type="text" name="" id="employeesId" hidden>
                        <input type="text" name="" id="taxInformationId" hidden>
                        <div class="row">
                            <div class="col-lg-6">
                                <label for="">FirstName</label>
                                <input type="text" name="" id="firstName" class="form-control">
                            </div>
                            <div class="col-lg-6">
                                <label for="">LastName</label>
                                <input type="text" name="" id="lastName" class="form-control">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <label for="">Email</label>
                                <input type="email" name="" id="email" class="form-control">
                            </div>
                            <div class="col-lg-6">
                                <label for="">Phone</label>
                                <input type="text" name="" id="phone" class="form-control">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <label for="">Position</label>
                                <input type="text" name="" id="position" class="form-control">
                            </div>
                            <div class="col-lg-6">
                                <label for="">Department</label>
                                <select id="departmentSelect" class="form-control">
                                    <option value="">Choose department...</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <label for="">BirthDay</label>
                                <input type="date" name="" id="birthday" class="form-control">
                            </div>
                            <div class="col-lg-6">
                                <label for="">Gender</label>
                                <select class="form-control" id="gender">
                                    <option value="Male">Male</option>
                                    <option value="FeMale">FeMale</option>

                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12">
                                <label for="">LeavePaidDays</label>
                                <input type="number" name="" id="leavePaidDays" class="form-control">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <label for="">TaxRate</label>
                                <input type="number" step="0.1" name="" id="taxRate" class="form-control">
                            </div>
                            <div class="col-lg-6">
                                <label for="">Insurance</label>
                                <select class="form-control" id="insuranceSelect" multiple>
                                    <option value="">Choose insurance...</option>
                                </select>
                            </div>
                        </div>



                    </div>
                    <div class="modal-footer">
                        <button type="button" onclick="saveOrUpdate()" class="btn btn-success">Save</button>
                    </div>
                </div>
            </div>
        </div>


        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#employees-tab" type="button"
                    role="tab" aria-selected="true">Employees</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#insurance-tab" type="button" role="tab"
                    aria-selected="false">Insurance </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#holiday-tab" type="button" role="tab"
                    aria-selected="false">Holidays </button>
            </li>
        </ul>
        <div class="tab-content mt-4" id="myTabContent">
            <div class="tab-pane fade show active" id="employees-tab" role="tabpanel" aria-labelledby="employees-tab">
                <!-- Employees tab -->
                <div class="row pb-2">
                    <div class="col-md-8">
                        <!-- Left side content -->
                        <div style="display: flex;">
                            <button class="btn border btn-light p-2" style="background-color: #FFF;" type="button"
                                data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="clearFormFields()">
                                <b style="font-size: 12px;">Add Employees</b></button>

                        </div>
                        <!-- Your buttons go here -->
                    </div>
                    <div class="col-md-4">

                        <div style="display: flex;justify-content: flex-end;">


                        </div>

                    </div>
                </div>
                <table id="employeesTable">
                    <thead>
                        <tr>

                            <th>Full Name</th>
                            <th>BirthDay</th>
                            <th>Gender</th>
                            <th>Phone</th>
                            <th>Email</th>
                            <th>Position</th>
                            <th>Create Date</th>
                            <th>Hire Date</th>
                            <th>TaxRate</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>

                <div id="pagination-container">

                </div>
                <!-- End Employees tab -->

            </div>
            <div class="tab-pane fade" id="insurance-tab" role="tabpanel" aria-labelledby="insurance-tab">

                <!-- Insurance Modal -->

                <button type="button" class="btn border btn-light p-2" style="background-color: #FFF;"
                    data-bs-toggle="modal" data-bs-target="#insuranceModal" onclick="clearFieldsInsurance()">
                    <b style="font-size: 12px;">Add Insurance</b></button>
                </button>

                <!-- Modal -->
                <div class="modal fade" id="insuranceModal" tabindex="-1" aria-labelledby="insuranceModal"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Manage Insurance</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <input type="text" name="" id="insuranceId" hidden class="form-control">
                                    <div class="col-lg-12">
                                        <label for="">Name</label>
                                        <input type="text" name="" id="insuranceName" class="form-control">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-12">
                                        <label for="">Rate</label>
                                        <input type="number" name="" id="insuranceRate" class="form-control">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-12">
                                        <label for="">Description</label>
                                        <textarea name="" id="insuranceDescription" cols="10" rows="5"
                                            class="form-control"></textarea>

                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">

                                <button type="button" class="btn btn-success"
                                    onclick="saveOrUpdateInsurance()">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Insurance Modal  -->

                <table id="insuranceTable" class="mt-3">
                    <thead>
                        <tr>

                            <th>Name</th>
                            <th>Description </th>
                            <th>Rate</th>

                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>

            </div>
            <div class="tab-pane fade" id="holiday-tab" role="tabpanel" aria-labelledby="holiday-tab">

                <!-- Holiday modal -->
                <button type="button" class="btn border btn-light p-2" style="background-color: #FFF;"
                    data-bs-toggle="modal" data-bs-target="#holidayModal" onclick="clearFieldsHoliday()">
                    <b style="font-size: 12px;">Add Holiday</b></button>
                </button>

                <!-- Modal -->
                <div class="modal fade" id="holidayModal" tabindex="-1" aria-labelledby="holidayModal"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Manage Holiday</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <input type="text" name="" id="holidayId" hidden class="form-control">
                                    <div class="col-lg-12">
                                        <label for="">Name</label>
                                        <input type="text" name="" id="holidayName" class="form-control">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-lg-12">
                                        <label for="">Duration Days</label>
                                        <input type="number" name="" id="durationDays" class="form-control">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <label for="">Description</label>
                                        <textarea name="" id="holidayDescription" class="form-control" cols="5"
                                            rows="5"></textarea>

                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">

                                <button type="button" class="btn btn-success"
                                    onclick="saveOrUpdateHoliday()">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Holiday Modal  -->

                <table id="holidayTable" class="mt-3">
                    <thead>
                        <tr>

                            <th>Name</th>
                            <th>Description </th>
                            <th>Day</th>

                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>



    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

    <script type="module">
        import { instance } from "../../axios/config/config.js";
        const baseURL = instance.defaults.baseURL;
        const apiUrl = baseURL + 'v1/employees';
        var apiInsuranceUrl = baseURL + "v1/insurance"

        var page = 1;
        const headers = {
            'Authorization': 'Bearer ' + getCookie('token'),
        };


        // document.getElementById('limitSelect').addEventListener('change', function () {
        // 	const selectedValue = this.value;
        // 	fetchDataAndPopulateTable(apiUrl + "?limit=" + selectedValue);
        // });
        // hàm get cookies


        // window.saveOrUpdate = function () {

        //     var id = $('#employeesId').val();
        //     var firstName = $('#firstName').val();
        //     var lastName = $('#lastName').val();
        //     var email = $('#email').val();
        //     var phone = $('#phone').val();
        //     var position = $('#position').val();
        //     var department = $('#departmentSelect').val();
        //     var birthday = $('#birthday').val();
        //     var gender = $('#gender').val();
        //     var taxRate = $('#taxRate').val();
        //     var leavePaidDays = $('#leavePaidDays').val();
        //     var insuranceIds = $('#insuranceSelect').val()

        //     var data = {
        //         firstName: firstName,
        //         lastName: lastName,
        //         email: email,
        //         contactNumber: phone,
        //         position: position,
        //         departmentId: department,
        //         birthday: birthday,
        //         gender: gender,
        //         taxRate: taxRate,
        //         leavePaidDays: leavePaidDays,
        //         insuranceIds:insuranceIds
        //     };

        //     if (validateData(firstName, lastName, email, phone, position, department, birthday, gender, taxRate)) {
        //         if (id) {

        //             updateEmployees(apiUrl + "/" + id, data);
        //         } else {

        //             addToEmployees(apiUrl, data);
        //         }
        //     }
        // }


        function showAlert(title, message, icon) {
            Swal.fire({
                title: title,
                text: message,
                icon: icon
            });
        }



        function validateData(firstName, lastName, email, phone, position, department, birthday, gender, taxRate) {
            // Kiểm tra dữ liệu bắt buộc
            if (!firstName || !lastName || !email || !phone || !position || !department || !birthday || !gender || !taxRate) {

                showAlert("Thông báo!", "Please fill in all information!", "error")
                return false;
            }

            // Kiểm tra định dạng email
            var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(email)) {

                showAlert("Thông báo!", "Please enter a valid email address!", "error")
                return false;
            }

            // Kiểm tra định dạng số điện thoại
            var phonePattern = /^\d{10}$/;
            if (!phonePattern.test(phone)) {

                showAlert("Thông báo!", "Please enter valid phone number!", "error")
                return false;
            }

            // Kiểm tra định dạng ngày tháng
            var birthdayPattern = /^\d{4}-\d{2}-\d{2}$/;
            if (!birthdayPattern.test(birthday)) {

                showAlert("Thông báo!", "Please enter a valid date of birth (YYYY-MM-DD)!", "error")
                return false;
            }

            // Kiểm tra giới tính
            if (gender !== 'Male' && gender !== 'FeMale') {
                showAlert("Thông báo!", "Please select gender!", "error")

                return false;
            }

            // Kiểm tra thuế suất
            if (isNaN(taxRate) || taxRate < 0 || taxRate > 100) {
                showAlert("Thông báo!", "Please enter a valid tax rate!", "error")
                return false;
            }

            // Dữ liệu hợp lệ
            return true;
        }

        // Hàm saveOrUpdate
        window.saveOrUpdate = function () {
            var id = $('#employeesId').val();
            var firstName = $('#firstName').val();
            var lastName = $('#lastName').val();
            var email = $('#email').val();
            var phone = $('#phone').val();
            var position = $('#position').val();
            var department = $('#departmentSelect').val();
            var birthday = $('#birthday').val();
            var gender = $('#gender').val();
            var taxRate = $('#taxRate').val();
            var taxInformationId = $("#taxInformationId").val();
            var insuranceIds = $("#insuranceSelect").val();
            var leavePaidDays = $('#leavePaidDays').val();

            if (validateData(firstName, lastName, email, phone, position, department, birthday, gender, taxRate)) {
                var data = {
                    firstName: firstName,
                    lastName: lastName,
                    email: email,
                    contactNumber: phone,
                    position: position,
                    departmentId: department,
                    birthday: birthday,
                    gender: gender,
                    taxRate: taxRate,
                    taxInformationId: taxInformationId,
                    insuranceIds: insuranceIds,
                    leavePaidDays: leavePaidDays
                };

                if (id) {
                    updateEmployees(apiUrl + "/" + id, data);
                } else {
                    addToEmployees(apiUrl, data);
                }
            }
        };



        window.addToEmployees = function (url, coinData) {
            axios.post(url, coinData, { headers })
                .then(res => {
                    fetchDataAndPopulateTable(apiUrl, page)

                    clearFormFields()

                    Swal.fire({
                        title: "Thông báo!",
                        text: res.data,
                        icon: "success",
                    });

                }).catch(err => {
                    console.log(err)
                    if (err.response) {
                        showAlert("Thông báo!", err.response.data.message, "error")

                    } else {
                        showAlert("Thông báo!", err, "error")
                    }
                })
        }

        window.updateEmployees = function (url, coinData) {
            axios.put(url, coinData, { headers })
                .then(res => {
                    fetchDataAndPopulateTable(apiUrl, page);

                    clearFormFields()
                    showAlert("Thông báo!", res.data, "success")

                    $('#exampleModal').modal('hide')

                }).catch(err => {
                    console.log(err)
                    if (err.response) {
                        showAlert("Thông báo!", err.response.data.message, "error")
                    } else {
                        showAlert("Thông báo!", err, "error")
                    }
                })
        }

        window.editEmployees = function (id) {

            axios.get(apiUrl + "/" + id)
                .then(res => {


                    var item = res.data;

                    $('#employeesId').val(item.id);
                    $('#firstName').val(item.firstName);
                    $('#lastName').val(item.lastName);
                    $('#email').val(item.email);
                    $('#phone').val(item.contactNumber);
                    $('#position').val(item.position);
                    $('#departmentSelect').val(item.departmentId);
                    $('#taxInformationId').val(item.taxInformationId);

                    $('#leavePaidDays').val(item.leavePaidDays);
                    $('#gender').val(item.gender);
                    $('#taxRate').val(item.taxRate);

                    var insuranceIds = item.insuranceIds;
                    var selectElement = document.getElementById("insuranceSelect");
                    var options = selectElement.options;

                    for (var i = 0; i < options.length; i++) {
                        options[i].removeAttribute("selected");
                    }
                    if (insuranceIds != null) {
                        for (var i = 0; i < options.length; i++) {
                            var optionValue = parseInt(options[i].value);
                            if (insuranceIds.includes(optionValue)) {
                                options[i].setAttribute("selected", "selected");
                            } else {
                                options[i].removeAttribute("selected");
                            }
                        }
                    }


                    const date = new Date(item.birthday);
                    const day = date.getDate().toString().padStart(2, '0');
                    const month = (date.getMonth() + 1).toString().padStart(2, '0');
                    const year = date.getFullYear();
                    const formattedDate = `${year}-${month}-${day}`;


                    $('#birthday').val(formattedDate);


                    $('#exampleModal').modal('show')
                })
                .catch(err => {
                    if (err.response) {
                        showAlert("Thông báo!", err.response.data.message, "error")
                    } else {
                        showAlert("Thông báo!", err, "error")
                    }
                })
        }

        window.clearFormFields = function () {
            $('#employeesId').val('');
            $('#firstName').val('');
            $('#lastName').val('');
            $('#email').val('');
            $('#phone').val('');
            $('#position').val('');
            $('#departmentSelect').val('');
            $('#birthday').val('');
            $('#gender').val('');
            $('#taxRate').val('0.0');
            $('#taxInformationId').val('');

            $('#leavePaidDays').val('');


            var selectElement = document.getElementById("insuranceSelect");
            var options = selectElement.options;

            for (var i = 0; i < options.length; i++) {
                options[i].removeAttribute("selected");
            }

        }



        window.deleteEmployees = function (id) {

            Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, delete it!"
            }).then((result) => {
                if (result.isConfirmed) {

                    axios.delete(apiUrl + '/' + id, { headers })
                        .then(res => {
                            showAlert("Thông báo!", res.data, "success")
                            fetchDataAndPopulateTable(apiUrl, 1)
                        })


                }
            });
        }





        function getCookie(cookieName) {
            var name = cookieName + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var cookieArray = decodedCookie.split(';');
            for (var i = 0; i < cookieArray.length; i++) {
                var cookie = cookieArray[i].trim();
                if (cookie.indexOf(name) == 0) {
                    return cookie.substring(name.length, cookie.length);
                }
            }
            return null;
        }

        // Hàm fetch dữ liệu và điền vào bảng
        function fetchDataAndPopulateTable(apiUrl, currentPage) {
            axios.get(apiUrl + '?page=' + currentPage)
                .then(response => {
                    if (response.status !== 200) {
                        throw new Error(`Error: ${response.status}`);
                    }
                    return response.data;
                })
                .then(res => {
                    page = currentPage;
                    populateTable(res.data);
                    const totalPages = res.totalPages;

                    if (totalPages > 1) {
                        createPagination(totalPages);
                    } else {
                        const paginationContainer = $('#pagination-container');
                        paginationContainer.empty();
                    }


                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }


        function createPagination(totalPages) {
            const paginationContainer = $('#pagination-container');
            paginationContainer.empty();

            const maxButtons = 5; // Số lượng nút phân trang tối đa cần hiển thị
            const halfButtons = Math.floor(maxButtons / 2); // Số lượng nút phân trang hiển thị trước và sau trang hiện tại

            // Xác định trang đầu tiên và trang cuối cùng cần hiển thị
            let startPage = Math.max(1, page - halfButtons);
            let endPage = Math.min(totalPages, startPage + maxButtons - 1);

            // Đảm bảo luôn hiển thị đủ số lượng nút phân trang
            if (endPage - startPage + 1 < maxButtons) {
                startPage = Math.max(1, endPage - maxButtons + 1);
            }


            const prevButton = $('<a href="#" class="page-link">&laquo;</a>');
            prevButton.click(function () {
                if (page > 1) {
                    fetchDataAndPopulateTable(apiUrl, page - 1);
                } else {
                    fetchDataAndPopulateTable(apiUrl, totalPages);
                }
            });
            paginationContainer.append(prevButton);
            for (let i = startPage; i <= endPage; i++) {
                const pageLink = $('<a href="#" class="page-link"></a>');
                pageLink.text(i);

                if (i === page) {
                    pageLink.addClass('active');
                }

                pageLink.click(function () {

                    fetchDataAndPopulateTable(apiUrl, i);
                });

                paginationContainer.append(pageLink);
            }

            const nextButton = $('<a href="#" class="page-link">&raquo;</a>');
            nextButton.click(function () {
                if (page < totalPages) {
                    fetchDataAndPopulateTable(apiUrl, page + 1);
                } else {
                    fetchDataAndPopulateTable(apiUrl, 1);
                }
            });
            paginationContainer.append(nextButton);
        }



        function populateTable(data) {
            const tableBody = document.getElementById('employeesTable').getElementsByTagName('tbody')[0];
            tableBody.innerHTML = '';

            const mapping = {
                'FullName': item => item.firstName + " " + item.lastName,
                'BirthDay': item => {
                    const date = new Date(item.birthday);
                    const day = date.getDate().toString().padStart(2, '0');
                    const month = (date.getMonth() + 1).toString().padStart(2, '0');
                    const year = date.getFullYear();
                    return `${day}/${month}/${year}`;
                },
                'Gender': item => item.gender ? item.gender : "",
                'Phone': item => item.contactNumber ? item.contactNumber : "",
                'Email': item => item.email ? item.email : "",
                'Position': item => item.position ? item.position : "",
                'CreatedDay': item => {
                    if (item.createdAt) {
                        const date = new Date(item.createdAt);
                        const day = date.getDate().toString().padStart(2, '0');
                        const month = (date.getMonth() + 1).toString().padStart(2, '0');
                        const year = date.getFullYear();
                        return `${day}/${month}/${year}`;
                    } else {
                        return "";
                    }
                },
                'HireDay': item => {
                    if (item.hireDate) {
                        const date = new Date(item.hireDate);
                        const day = date.getDate().toString().padStart(2, '0');
                        const month = (date.getMonth() + 1).toString().padStart(2, '0');
                        const year = date.getFullYear();
                        return `${day}/${month}/${year}`;
                    } else {
                        return "";
                    }
                },
                'TaxRate': item => item.taxRate ? item.taxRate : "0.0",
                'action': item => `
                <button onclick="editEmployees(${item.id})" class="btn btn-warning"><i class='bx bxs-pencil'></i></button>
                 <button onclick="deleteEmployees(${item.id})" class="btn btn-danger "><i class='bx bxs-trash' ></i></button>`

            };

            data.forEach(item => {
                const row = tableBody.insertRow();

                Object.keys(mapping).forEach((key, index) => {
                    const cell = row.insertCell(index);
                    const label = key;
                    const value = mapping[key](item);


                    cell.innerHTML = `${value}`;
                });
            });

            if (data.length === 0) {
                tableBody.innerHTML = '<td colspan="10" class="text-center"><b>The employee list is currently empty.</b></td>';
            }

        }


        function populateSelect() {
            axios.get(apiUrl + '/get-departments')
                .then(response => {

                    const departments = response.data;


                    departments.forEach(department => {

                        const option = $('<option>').attr('value', department.id).text(department.name);


                        $('#departmentSelect').append(option);
                    });
                })
                .catch(error => {
                    console.error('Error fetching departments:', error);
                });

        }
        function populateSelectInsurance() {
            axios.get(apiInsuranceUrl)
                .then(response => {

                    const item = response.data;

                    $('#insuranceSelect').empty();


                    // const defaultOption = $('<option>').attr('value', '0').text('Select Insurance').prop('selected', true);
                    // $('#insuranceSelect').append(defaultOption);

                    item.forEach(item => {

                        const option = $('<option>').attr('value', item.id).text(item.insuranceName);



                        $('#insuranceSelect').append(option);
                    });
                })
                .catch(error => {
                    console.error('Error fetching departments:', error);
                });

        }


        function logout() {
            var cookies = document.cookie.split(";");
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i];
                var eqPos = cookie.indexOf("=");
                var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
                document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/";
            }
            window.location.href = window.location.origin + "/java_gr2/frontend/html/page/SignInSignUp.html"; // Thay đổi đường dẫn nếu cần
        }

        document.getElementById("logoutButton").addEventListener("click", function () {
            logout();
        });

        fetchDataAndPopulateTable(apiUrl, page);
        populateSelect()
        populateSelectInsurance()


        // crud insurance


        fetchDataAndPopulateTableInsurance(apiInsuranceUrl)

        function fetchDataAndPopulateTableInsurance(apiUrl) {
            axios.get(apiUrl)
                .then(response => {
                    if (response.status !== 200) {
                        throw new Error(`Error: ${response.status}`);
                    }
                    return response.data;
                })
                .then(res => {
                    populateTableInsurance(res)



                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }

        function populateTableInsurance(data) {
            const tableBody = document.getElementById('insuranceTable').getElementsByTagName('tbody')[0];
            tableBody.innerHTML = '';

            const mapping = {
                'Name': item => item.insuranceName ? item.insuranceName : "",
                'Description': item => item.insuranceDescription ? item.insuranceDescription : "",
                'Rate': item => item.insuranceRate ? item.insuranceRate : "",
                'action': item => `
            <button onclick="editInsurance(${item.id})" class="btn btn-warning"><i class='bx bxs-pencil'></i></button>
            <button onclick="deleteInsurance(${item.id})" class="btn btn-danger "><i class='bx bxs-trash'></i></button>`
            };

            data.forEach(item => {
                const row = tableBody.insertRow();

                Object.keys(mapping).forEach((key, index) => {
                    const cell = row.insertCell(index);
                    const value = mapping[key](item);
                    cell.innerHTML = `${value}`;
                });
            });

            if (data.length === 0) {
                const row = tableBody.insertRow();
                const cell = row.insertCell(0);
                cell.setAttribute('colspan', Object.keys(mapping).length);
                cell.setAttribute('class', 'text-center');
                cell.innerHTML = '<b>The insurance list is currently empty.</b>';
            }
        }

        function validateDataInsurance(data) {
            if (!data.insuranceName || !data.insuranceRate) {
                showAlert("Thông báo!", "Please fill in all fields.", "error");
                return false;
            }


            if (data.insuranceRate < 0 || data.insuranceRate > 100) {
                showAlert("Thông báo!", "Rate must be between 0 and 100.", "error");

                return false;
            }

            return true;
        }

        window.saveOrUpdateInsurance = function () {

            const name = $('#insuranceName').val();
            const description = $('#insuranceDescription').val();
            const rate = $('#insuranceRate').val();
            const id = $('#insuranceId').val();

            const newData = {
                insuranceName: name,
                insuranceDescription: description,
                insuranceRate: rate
            };


            if (validateDataInsurance(newData)) {


                if (id) {

                    updateInsurance(id, newData);
                } else {

                    addInsurance(newData);
                }

            }
        }


        function addInsurance(newData) {
            axios.post(apiInsuranceUrl, newData)
                .then(response => {
                    fetchDataAndPopulateTableInsurance(apiInsuranceUrl)
                    clearFieldsInsurance()
                    populateSelectInsurance()
                    showAlert("Thông báo!", response.data, "success")
                })
                .catch(err => {
                    if (err.response) {
                        showAlert("Thông báo!", err.response.data.message, "error")
                    } else {
                        showAlert("Thông báo!", err, "error")
                    }
                });
        }

        function updateInsurance(id, newData) {
            axios.put(apiInsuranceUrl + "/" + id, newData)
                .then(response => {
                    fetchDataAndPopulateTableInsurance(apiInsuranceUrl)
                    clearFieldsInsurance()
                    populateSelectInsurance()

                    showAlert("Thông báo!", response.data, "success")

                    $("#insuranceModal").modal('hide');
                })
                .catch(err => {
                    if (err.response) {
                        showAlert("Thông báo!", err.response.data.message, "error")
                    } else {
                        showAlert("Thông báo!", err, "error")
                    }
                });
        }


        window.clearFieldsInsurance = function () {
            $('#insuranceId').val('');
            $('#insuranceName').val('');
            $('#insuranceDescription').val('');
            $('#insuranceRate').val('');
        }

        window.editInsurance = function (id) {
            axios.get(apiInsuranceUrl + "/" + id)
                .then(response => {
                    const insurance = response.data;
                    $('#insuranceId').val(insurance.id);
                    $('#insuranceName').val(insurance.insuranceName);
                    $('#insuranceDescription').val(insurance.insuranceDescription);
                    $('#insuranceRate').val(insurance.insuranceRate);

                    $("#insuranceModal").modal('show');
                })
                .catch(error => {

                });
        }


        window.deleteInsurance = function (id) {

            Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, delete it!"
            }).then((result) => {
                if (result.isConfirmed) {

                    axios.delete(apiInsuranceUrl + '/' + id, { headers })
                        .then(res => {
                            showAlert("Thông báo!", res.data, "success")
                            fetchDataAndPopulateTableInsurance(apiInsuranceUrl)
                        })


                }
            });
        }

        // CRUD HOLIDAY


        var apiHolidayUrl = baseURL + "v1/holidays"

        fetchDataAndPopulateTableHoliday(apiHolidayUrl)

        function fetchDataAndPopulateTableHoliday(apiUrl) {
            axios.get(apiUrl)
                .then(response => {
                    if (response.status !== 200) {
                        throw new Error(`Error: ${response.status}`);
                    }
                    return response.data;
                })
                .then(res => {
                    populateTableHoliday(res)



                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }

        function populateTableHoliday(data) {
            const tableBody = document.getElementById('holidayTable').getElementsByTagName('tbody')[0];
            tableBody.innerHTML = '';

            const mapping = {
                'Name': item => item.holidayName ? item.holidayName : "",
                'Description': item => item.hodidayDescription ? item.hodidayDescription : "",
                'Day': item => item.durationDays ? item.durationDays : "",
                'action': item => `
            <button onclick="editHoliday(${item.id})" class="btn btn-warning"><i class='bx bxs-pencil'></i></button>
            <button onclick="deleteHoliday(${item.id})" class="btn btn-danger "><i class='bx bxs-trash'></i></button>`
            };

            data.forEach(item => {
                const row = tableBody.insertRow();

                Object.keys(mapping).forEach((key, index) => {
                    const cell = row.insertCell(index);
                    const value = mapping[key](item);
                    cell.innerHTML = `${value}`;
                });
            });

            if (data.length === 0) {
                const row = tableBody.insertRow();
                const cell = row.insertCell(0);
                cell.setAttribute('colspan', Object.keys(mapping).length);
                cell.setAttribute('class', 'text-center');
                cell.innerHTML = '<b>The holiday list is currently empty.</b>';
            }
        }

        function validateDataHoliday(data) {
            if (!data.holidayName || !data.durationDays) {
                showAlert("Thông báo!", "Please fill in all fields.", "error");
                return false;
            }


            return true;
        }

        window.saveOrUpdateHoliday = function () {

            const name = $('#holidayName').val();
            const description = $('#holidayDescription').val();
            const durationDays = $('#durationDays').val();
            const id = $('#holidayId').val();

            const newData = {
                holidayName: name,
                hodidayDescription: description,
                durationDays: durationDays
            };


            if (validateDataHoliday(newData)) {


                if (id) {

                    updateHoliday(id, newData);
                } else {

                    addHoliday(newData);
                }

            }
        }


        function addHoliday(newData) {
            axios.post(apiHolidayUrl, newData)
                .then(response => {
                    fetchDataAndPopulateTableHoliday(apiHolidayUrl)
                    clearFieldsHoliday()

                    showAlert("Thông báo!", response.data, "success")
                })
                .catch(err => {
                    if (err.response) {
                        showAlert("Thông báo!", err.response.data.message, "error")
                    } else {
                        showAlert("Thông báo!", err, "error")
                    }
                });
        }

        function updateHoliday(id, newData) {
            axios.put(apiHolidayUrl + "/" + id, newData)
                .then(response => {
                    fetchDataAndPopulateTableHoliday(apiHolidayUrl)
                    clearFieldsHoliday()

                    showAlert("Thông báo!", response.data, "success")

                    
                    $("#holidayModal").modal('hide');
                })
                .catch(err => {
                    if (err.response) {
                        showAlert("Thông báo!", err.response.data.message, "error")
                    } else {
                        showAlert("Thông báo!", err, "error")
                    }
                });
        }


        window.clearFieldsHoliday = function () {

            $('#holidayName').val('');
            $('#holidayDescription').val('');
            $('#durationDays').val(1);
            $('#holidayId').val('');
        }

        window.editHoliday = function (id) {
            axios.get(apiHolidayUrl + "/" + id)
                .then(response => {
                    const item = response.data;

                    $('#holidayName').val(item.holidayName);
                    $('#holidayDescription').val(item.hodidayDescription);
                    $('#durationDays').val(item.durationDays);
                    $('#holidayId').val(item.id);



                    $("#holidayModal").modal('show');
                })
                .catch(error => {

                });
        }


        window.deleteHoliday = function (id) {

            Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, delete it!"
            }).then((result) => {
                if (result.isConfirmed) {

                    axios.delete(apiHolidayUrl + '/' + id, { headers })
                        .then(res => {
                            showAlert("Thông báo!", res.data, "success")
                            fetchDataAndPopulateTableHoliday(apiHolidayUrl)
                        })


                }
            });
        }

    </script>
</body>

</html>